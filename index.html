<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Å ifrovanÃ½ sprÃ¡vce hesel | HvÄ›zdnÃ¡ flotila</title>
    
    <link rel="stylesheet" href="style.css">

    <!-- PÅ™idÃ¡nÃ­ defer ke vÅ¡em scriptÅ¯m -->
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script defer src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script defer src="script.js"></script>
<script defer src="firebase-logic.js"></script>
</head>
<body>

    <div id="fleetToast" class="toast-notification"></div>

    <div id="loginForm" class="login-container container hidden">
        <h1>ğŸš€ HvÄ›zdnÃ¡ flotila - PÅ™Ã­stup</h1>
        <p>Pro synchronizaci hesel mezi zaÅ™Ã­zenÃ­mi se pÅ™ihlaste pÅ™es Google.</p>
        <button onclick="signInWithGoogle()" style="background-color: #DB4437; color: white;" title="PÅ™ihlÃ¡sit se pomocÃ­ Google ÃºÄtu">ğŸŒ PÅ™ihlÃ¡sit pÅ™es Google</button>
    </div>

    <div id="mainContent" class="container hidden">
        <button class="logout-btn" onclick="confirmLogout()" title="OdhlÃ¡sit se z aplikace">ğŸ”¥ OdhlÃ¡sit se</button>
        <h1>ğŸ” Å ifrovanÃ½ sprÃ¡vce hesel</h1>
        
        <div class="form-group">
            <label for="service" title="NÃ¡zev sluÅ¾by nebo webu">SluÅ¾ba:</label>
            <input type="text" id="service" placeholder="napÅ™. Google, Facebook, GitHub..." title="Zadejte nÃ¡zev sluÅ¾by">
        </div>
        
        <div class="form-group">
            <label for="username" title="UÅ¾ivatelskÃ© jmÃ©no nebo e-mail">UÅ¾ivatelskÃ© jmÃ©no:</label>
            <input type="text" id="username" placeholder="napÅ™. admiral@starfleet.com" title="Zadejte uÅ¾ivatelskÃ© jmÃ©no">
        </div>
        
        <div class="form-group">
            <label for="password" title="Heslo pro danou sluÅ¾bu">Heslo:</label>
            <div class="password-input-group">
                <input type="password" id="password" placeholder="Zadejte heslo..." title="Zadejte heslo">
                <button type="button" class="password-toggle" onclick="togglePasswordVisibility('password', this)" title="PÅ™epnout viditelnost hesla">ğŸ”’ Zobrazit</button>
            </div>
        </div>
        
        <div class="button-group">
    <button onclick="savePassword()" title="UloÅ¾it heslo do databÃ¡ze">ğŸ’¾ ULOÅ½IT</button>
    <button class="export-btn" onclick="exportToTxt()" title="StÃ¡hnout vÅ¡echna hesla jako TXT soubor">ğŸ“¤ EXPORT</button>
    <button class="import-btn" onclick="triggerImport()" title="NahrÃ¡t hesla z TXT souboru">ğŸ“¥ IMPORT</button>
    <input type="file" id="importFile" class="file-input" accept=".txt" onchange="importFromTxt(event)">
</div>
        
        <div id="passwordTableContainer">
            <table id="passwordTable">
                <thead><tr><th>SluÅ¾ba</th><th>UÅ¾ivatel</th><th>Heslo</th><th>Akce</th></tr></thead>
                <tbody></tbody>
            </table>
            <div id="emptyState" class="empty-state hidden">
                <div class="empty-state-icon">ğŸ›¸</div>
                <p><strong>ZatÃ­m Å¾Ã¡dnÃ¡ uloÅ¾enÃ¡ hesla</strong></p>
                <p>ZaÄnÄ›te pÅ™idÃ¡nÃ­m prvnÃ­ho hesla pomocÃ­ formulÃ¡Å™e vÃ½Å¡e!</p>
            </div>
        </div>
    </div>

    <div id="masterKeyInputModal" class="masterkey-modal-overlay hidden">
        <div class="masterkey-modal-content">
            <p id="masterKeyInputModalMessage" class="masterkey-modal-message"></p>
            <div class="form-group">
                <label for="masterKeyInputField">Master heslo:</label>
                <div class="password-input-group">
                    <input type="password" id="masterKeyInputField" placeholder="Zadejte master heslo" title="Master heslo pro Å¡ifrovÃ¡nÃ­ vÅ¡ech dat">
                    <button type="button" class="password-toggle" onclick="togglePasswordVisibility('masterKeyInputField', this)" title="PÅ™epnout viditelnost master hesla">ğŸ”’ Zobrazit</button>
                </div>
            </div>
            <div class="masterkey-modal-buttons">
                <button class="confirm-ok" onclick="handleMasterKeyInput()" title="Potvrdit a pokraÄovat">âœ… Potvrdit</button>
            </div>
        </div>
    </div>

     <footer id="appFooter" class="hidden">
  &copy; <span id="currentYear"></span> Å ifrovanÃ½ sprÃ¡vce hesel | VÃ­ce admirÃ¡l jiÅ™Ã­k & AdmirÃ¡l Claude.ai
</footer>

</body>
</html>